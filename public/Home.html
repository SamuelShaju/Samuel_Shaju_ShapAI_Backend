<!DOCTYPE html>
<html>
    <head>
        <title>
            Home
        </title>
        <meta charset="utf-8">
    </head>
    <body>
        <h1>Calculate BMI</h1>

        <input type="text" name="height" id="height_input" placeholder="HEIGHT">
        <input type="text" name="weight" id="weight_input" placeholder="WEIGHT">
        <button type="submit" onclick="calculate()">Submit</button>


        <script>
            console.log(document.getElementById('height_input').value);
            
            async function calculate()
            {
                var height = document.getElementById('height_input').value;
                var weight = document.getElementById('weight_input').value;
                console.log(height);


                const data = {height, weight}
                const options = {
                            method: 'POST',
                            headers:{
                                'Content-Type':'application/json',
                            },
                            body: JSON.stringify(data)
                        }

                const response = await fetch('/SendHW', options);
                const return_data = await response.json();
                console.log(return_data);
                
                document.getElementById('BMI').innerHTML = "BMI : " + return_data.toFixed(2).toString();
            }
        </script>
        <p id="BMI"></p>
    </body>
</html>